<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1, user-scalable=no" />
  <title>TurboSign</title>
  <style>
    html, body { margin: 0; height: 100%; }
    /* Full-height viewer shell */
    #viewer { display: block; width: 100%; height: 100dvh; border: 0; background: #121418; }
  </style>
</head>
<body>
  <!-- Load the STOCK Mozilla viewer -->
  <iframe id="viewer" src="/web/viewer.html#zoom=page-width"></iframe>

  <script>
    (function () {
      const frame = document.getElementById('viewer');

      // Inject mobile sizing into the viewer after it loads.
      function inject() {
        const doc = frame.contentDocument;
        if (!doc || doc.getElementById('ts-mobile-sizing')) return;

        const style = doc.createElement('style');
        style.id = 'ts-mobile-sizing';
        style.textContent = `
          @media (max-width: 768px) {
            /* Taller main toolbar */
            #toolbarContainer { height: 72px !important; }

            /* Make ALL stock buttons finger-sized (main + split + secondary) */
            #toolbarViewerLeft .toolbarButton,
            #toolbarViewerMiddle .toolbarButton,
            #toolbarViewerRight .toolbarButton,
            #secondaryToolbarToggle,
            .splitToolbarButton > .toolbarButton,
            .overlayButton,
            .secondaryToolbarButton {
              min-width: 56px !important;
              height: 56px !important;
              padding: 8px !important;
              line-height: 1 !important;
            }

            /* Scale the mask/sprite icons so they arenâ€™t tiny in bigger buttons */
            .toolbarButton::before,
            .secondaryToolbarButton::before,
            .overlayButton::before {
              width: 28px !important;
              height: 28px !important;
              background-size: 28px 28px !important;
              -webkit-mask-size: 28px 28px !important;
                      mask-size: 28px 28px !important;
              margin: 0 auto !important;
            }

            /* Split-button separator size */
            .splitToolbarButtonSeparator {
              height: 40px !important;
              margin: 0 6px !important;
            }

            /* Inputs large enough to avoid iOS focus-zoom */
            #pageNumber, #findInput, .toolbarField {
              font-size: 18px !important;
              height: 44px !important;
              padding: 6px 10px !important;
            }

            /* Secondary toolbar spacing */
            #secondaryToolbar { padding: 10px !important; }
            #secondaryToolbar .toolbarButtonRow > .secondaryToolbarButton { min-height: 48px !important; }
            #secondaryToolbar .horizontalToolbarSeparator { height: 24px !important; margin: 6px 0 !important; }
          }`;
        (doc.head || doc.documentElement).appendChild(style);
      }

      frame.addEventListener('load', () => {
        // Wait one paint so the viewer builds its DOM, then inject.
        try {
          (frame.contentWindow.requestAnimationFrame || setTimeout)(inject, 0);
        } catch { /* no-op */ }
      });
    })();
  </script>
</body>
</html>
